# 今週のタスク - Priority 4区データ拡張

## ✅ 完了タスク（Phase 3）

### Issue 1: 墨田区統合DAGテスト実行 ✅
- [x] 環境状態確認
- [x] DAG存在確認
- [x] 墨田区ETL実行
- [x] データ投入確認
- [x] 安全スコア自動計算確認
- **結果**: 成功 - 12エリア、12学校、23犯罪データ投入済み

### Issue 2-4: 江東区・品川区・目黒区データ完成 ✅
- [x] 江東区データ完成（16エリア、12学校、23犯罪）
- [x] 品川区データ完成（12エリア、12学校、20犯罪）
- [x] 目黒区データ完成（12エリア、12学校、20犯罪）

### Issue 5: Priority 3区統合テスト ✅
- [x] 統合DAG再実行
- [x] データ整合性確認（全チェック合格）
- [x] フロントエンド動作確認
- [x] ドキュメント更新

**Phase 3達成**: 12区・76校・155犯罪データ・52%カバレッジ 🎉

---

## 📋 次週タスク（Phase 4 - Priority 4区）

### Issue 6: 大田区（13111）データ作成
**Labels**: `priority-high`, `phase-4`, `data`  
**Assignee**: 自分  
**Milestone**: Phase 4 Week 1  
**Timeline**: 2日

#### タスク
- [ ] エリア定義（20-25箇所）
  - 蒲田、大森、田園調布、羽田など
- [ ] 学校データ調査（30-35校）
  - 東京最大面積のため学校数多い
- [ ] 犯罪データ作成（30-35件）
- [ ] `district_data.py`追加
- [ ] コミット: `data: Add Ota district data (13111)`

#### 期待データ量
- エリア: 20-25箇所
- 学校: 30-35校
- 犯罪: 30-35件

---

### Issue 7: 中野区（13114）データ作成
**Labels**: `priority-high`, `phase-4`, `data`  
**Assignee**: 自分  
**Milestone**: Phase 4 Week 1  
**Timeline**: 1.5日

#### タスク
- [ ] エリア定義（15-18箇所）
  - 中野、東中野、野方、鷺ノ宮など
- [ ] 学校データ調査（20-25校）
- [ ] 犯罪データ作成（20-25件）
- [ ] `district_data.py`追加
- [ ] コミット: `data: Add Nakano district data (13114)`

#### 期待データ量
- エリア: 15-18箇所
- 学校: 20-25校
- 犯罪: 20-25件

---

### Issue 8: 杉並区（13115）データ作成
**Labels**: `priority-high`, `phase-4`, `data`  
**Assignee**: 自分  
**Milestone**: Phase 4 Week 1  
**Timeline**: 1.5日

#### タスク
- [ ] エリア定義（18-22箇所）
  - 荻窪、高円寺、阿佐ヶ谷、西荻窪など
- [ ] 学校データ調査（25-30校）
  - 文教地区として学校数多い
- [ ] 犯罪データ作成（25-30件）
- [ ] `district_data.py`追加
- [ ] コミット: `data: Add Suginami district data (13115)`

#### 期待データ量
- エリア: 18-22箇所
- 学校: 25-30校
- 犯罪: 25-30件

---

### Issue 9: 豊島区（13116）データ作成
**Labels**: `priority-high`, `phase-4`, `data`  
**Assignee**: 自分  
**Milestone**: Phase 4 Week 1  
**Timeline**: 1.5日

#### タスク
- [ ] エリア定義（12-15箇所）
  - 池袋、巣鴨、駒込、大塚など
- [ ] 学校データ調査（18-22校）
- [ ] 犯罪データ作成（18-22件）
- [ ] `district_data.py`追加
- [ ] コミット: `data: Add Toshima district data (13116)`

#### 期待データ量
- エリア: 12-15箇所
- 学校: 18-22校
- 犯罪: 18-22件

---

### Issue 10: Priority 4統合テスト
**Labels**: `priority-high`, `phase-4`, `testing`  
**Assignee**: 自分  
**Milestone**: Phase 4 Week 1  
**Timeline**: 1日

#### タスク
- [ ] 統合DAG設定更新（Priority 4有効化）
- [ ] ETL実行: `make airflow-run-dag DAG_ID=tokyo_districts_etl_priority_4`
- [ ] データ品質検証: `./scripts/verify_data_quality.sh`
- [ ] パフォーマンステスト
  - ETL処理時間測定
  - API応答速度測定
  - データベースクエリ最適化
- [ ] フロントエンド動作確認
- [ ] PROJECT_STATUS.md更新
- [ ] コミット: `test: Verify Priority 4 districts integration`

#### 期待結果
- 対応区数: 12区 → 16区
- 学校数: 76校 → 160-180校
- 犯罪データ: 155件 → 300-350件
- エリア数: 76箇所 → 140-160箇所
- カバレッジ: 52% → 70%
- ETL処理時間: < 20分

---

## 📅 週間スケジュール

### Day 1-2（月-火）: 大田区
- データ調査・定義
- `district_data.py`追加
- コミット

### Day 3（水）: 中野区
- データ調査・定義
- `district_data.py`追加
- コミット

### Day 4（木）: 杉並区
- データ調査・定義
- `district_data.py`追加
- コミット

### Day 5（金）: 豊島区
- データ調査・定義
- `district_data.py`追加
- コミット

### Day 6-7（土-日）: 統合テスト
- DAG設定更新
- ETL実行・検証
- パフォーマンステスト
- ドキュメント更新

---

## 🎯 成功指標

### データ品質
- 座標精度: 無効座標0件
- 重複: 重複データ0件
- 外部キー: 孤立レコード0件
- 安全スコア: 全学校で計算済み

### パフォーマンス
- ETL処理時間: < 20分
- API応答速度: < 2秒
- フロントエンド読み込み: < 3秒

### カバレッジ
- 対応区数: 16区 / 23区（70%）
- 学校数: 160+校
- 犯罪データ: 300+件

---

## 📝 データ作成ガイドライン

### エリア定義
1. 主要駅周辺エリアを優先
2. 地域特性を反映（商業地、住宅地、文教地区など）
3. 座標は実際の地理位置に基づく
4. Polygon座標は適切な矩形範囲で定義

### 学校データ
1. 公式の学校リストを参照
2. 小学校・中学校・高校をバランスよく配置
3. 公立・私立の区別を明確に
4. 住所と座標の整合性を確認

### 犯罪データ
1. エリアごとに均等に配置（各エリア2-5件）
2. カテゴリ分散（窃盗、詐欺、器物損壊、暴行など）
3. 日付は2024年8月を基準
4. 地域特性を反映した内容

---

## 🚀 次のマイルストーン

### 1週間後（Priority 4完了）
- 16区データ完全対応
- 180校・350犯罪データ処理
- 70%カバレッジ達成

### 2週間後（Priority 5開始）
- 北区・荒川区データ追加
- 板橋区・練馬区データ追加

### 3週間後（Phase 5完了）
- 23区完全対応
- 200+校・800+犯罪データ
- 100%カバレッジ達成

---

**即座着手推奨**: 大田区データ調査・作成から開始し、1週間で4区データ拡張を完成させる。これにより東京23区の70%をカバーする実用的なシステムが完成する。
